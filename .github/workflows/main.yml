name: CI

on: [push]

jobs:
 sast_scan:
   name: run_bandit scan 
   runs-on: ubuntu-latest

   steps:
   - name: checkout code 
     uses: actions/checkout@v2

   - name: install python 
     uses: actions/setup-python@v2
     with:
          python-version: 3.8
          
   -  name: Install bandit
      run: pip install bandit

   -  name: Run bandit scan
      run: bandit -ll -ii -r . -f json -o bandit_report.json

   -  name: Upload Artifact
      uses: actions/upload-artifact@v4
      if: always()
      with:
         name: bandit_findings
         path: bandit_report.json

  
